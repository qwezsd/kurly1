{"ast":null,"code":"import React from'react';import{BrowserRouter,Routes,Route}from'react-router-dom';import TopModalComponent from'./TopModalComponent';import HeaderComponent from'./HeaderComponent';import MainComponent from'./MainComponent';import GoTopComponent from'./GoTopComponent';import QuickMenuComponent from'./QuickMenuComponent';import FooterComponent from'./FooterComponent';import ConfirmModal from'./ConfirmModal';import AddressComponent from'./AddressComponent';//서브\nimport Sub1Component from'./sub/Sub1Component';import Sub2Component from'./sub/Sub2Component';import Sub3Component from'./sub/Sub3Component';import Sub4Component from'./sub/Sub4Component';import Sub5Component from'./sub/Sub5Component';import{WrapContext}from'./wrapContext/WrapContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WrapComponent(){const[state,setState]=React.useState({message:'',isconfirmModal:false,isAddressSearch:false});const{message}=state;const[address,setAddress]=React.useState({주소1:'',주소2:''});const{주소1,주소2}=address;const confirmModalOpen=message=>{setState({...state,message:message,isconfirmModal:true});};const confirmModalClose=()=>{setState({...state,isconfirmModal:false});};const addressSearchClose=()=>{setState({...state,isAddressSearch:false});};const addressSearchOpen=()=>{setState({...state,isAddressSearch:true});};const addressSave=(주소1,주소2)=>{setAddress({...address,주소1:주소1,주소2:주소2});};React.useEffect(()=>{const result=JSON.parse(localStorage.getItem('POSTCODE_ADDRESS'));console.log(result);},[address.주소1,address.주소2]);const[viewProduct,setViewProduct]=React.useState([]);const[product,setProduct]=React.useState([]);const[flag,setFlag]=React.useState(false);const currentViewProduct=(item,imgPath)=>{const obj={번호:item.번호,상품명:item.상품명,이미지:\"\".concat(imgPath).concat(item.이미지),정가:item.정가,할인율:\"\".concat(Math.round(item.할인율*100),\"%\"),판매가:Math.round(item.정가*(1-item.할인율)),후기:item.후기};setProduct(obj);};React.useEffect(()=>{let imsi=[];if(Object.keys(product).length>0){imsi=[product];}if(localStorage.getItem('KURLY_VIEW_PRODUCT')===null){if(imsi.length>0){localStorage.setItem('KURLY_VIEW_PRODUCT',JSON.stringify(imsi));}}else{let result=JSON.parse(localStorage.getItem('KURLY_VIEW_PRODUCT'));let filterResult=result.map(item=>item.번호===product.번호);console.log(filterResult);if(filterResult.includes(true)){return;}else{// 중복안됨\nif(Object.keys(product).length>0){result=[product,...result];localStorage.setItem('KURLY_VIEW_PRODUCT',JSON.stringify(result));}}}setFlag(!flag);},[product]);React.useEffect(()=>{if(localStorage.getItem('KURLY_VIEW_PRODUCT')===null){return;}const result=JSON.parse(localStorage.getItem('KURLY_VIEW_PRODUCT'));setViewProduct(result);},[flag]);return/*#__PURE__*/_jsx(\"div\",{id:\"wrap\",children:/*#__PURE__*/_jsxs(WrapContext.Provider,{value:{//헤더\naddressSearchOpen,주소1,주소2,currentViewProduct,confirmModalOpen,confirmModalClose,message,addressSearchClose,addressSave,viewProduct},children:[/*#__PURE__*/_jsx(TopModalComponent,{}),/*#__PURE__*/_jsx(BrowserRouter,{basename:process.env.PUBLIC_URL,children:/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HeaderComponent,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(MainComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/index\",element:/*#__PURE__*/_jsx(MainComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub1\",element:/*#__PURE__*/_jsx(Sub1Component,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub2\",element:/*#__PURE__*/_jsx(Sub2Component,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub3\",element:/*#__PURE__*/_jsx(Sub3Component,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub4\",element:/*#__PURE__*/_jsx(Sub4Component,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub5\",element:/*#__PURE__*/_jsx(Sub5Component,{})})]})})}),state.isconfirmModal&&/*#__PURE__*/_jsx(ConfirmModal,{}),state.isAddressSearch&&/*#__PURE__*/_jsx(AddressComponent,{}),/*#__PURE__*/_jsx(GoTopComponent,{}),/*#__PURE__*/_jsx(QuickMenuComponent,{}),/*#__PURE__*/_jsx(FooterComponent,{})]})});};","map":{"version":3,"names":["React","BrowserRouter","Routes","Route","TopModalComponent","HeaderComponent","MainComponent","GoTopComponent","QuickMenuComponent","FooterComponent","ConfirmModal","AddressComponent","Sub1Component","Sub2Component","Sub3Component","Sub4Component","Sub5Component","WrapContext","jsx","_jsx","jsxs","_jsxs","WrapComponent","state","setState","useState","message","isconfirmModal","isAddressSearch","address","setAddress","주소1","주소2","confirmModalOpen","confirmModalClose","addressSearchClose","addressSearchOpen","addressSave","useEffect","result","JSON","parse","localStorage","getItem","console","log","viewProduct","setViewProduct","product","setProduct","flag","setFlag","currentViewProduct","item","imgPath","obj","번호","상품명","이미지","concat","정가","할인율","Math","round","판매가","후기","imsi","Object","keys","length","setItem","stringify","filterResult","map","includes","id","children","Provider","value","basename","process","env","PUBLIC_URL","path","element","index"],"sources":["/Users/igyeongha/Documents/프론트엔드/kurly/kurly_배포/src/wrap/WrapComponent.jsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter, Routes, Route} from 'react-router-dom'\n\nimport TopModalComponent from './TopModalComponent'\nimport HeaderComponent from './HeaderComponent';\nimport MainComponent from './MainComponent';\nimport GoTopComponent from './GoTopComponent'\nimport QuickMenuComponent from './QuickMenuComponent'\nimport FooterComponent from './FooterComponent';\nimport ConfirmModal from './ConfirmModal';\nimport AddressComponent from './AddressComponent';\n\n//서브\nimport Sub1Component from './sub/Sub1Component';\nimport Sub2Component from './sub/Sub2Component';\nimport Sub3Component from './sub/Sub3Component';\nimport Sub4Component from './sub/Sub4Component';\nimport Sub5Component from './sub/Sub5Component';\n\n\nimport { WrapContext } from './wrapContext/WrapContext';\n\n\nexport default function WrapComponent () {\n    const [state, setState] = React.useState({\n        message : '',\n        isconfirmModal : false,\n        isAddressSearch : false,\n    });\n    const {message} = state\n    const [address, setAddress] = React.useState({ \n        주소1 : '',\n        주소2: ''\n    })\n    const {주소1, 주소2} = address\n\n    const confirmModalOpen  =(message)=>{\n        setState({\n            ...state,\n            message: message,\n            isconfirmModal : true\n        })\n    }\n\n    const confirmModalClose  =()=>{\n        setState({\n            ...state,\n            isconfirmModal : false\n        })\n    }\n\n    const addressSearchClose=()=>{\n        setState({\n            ...state,\n            isAddressSearch : false\n        })\n    }\n\n    const addressSearchOpen=()=>{\n        setState({\n            ...state,\n            isAddressSearch : true\n        })\n    }\n\n    const addressSave = (주소1, 주소2) =>{\n        setAddress({\n            ...address,\n            주소1:주소1,\n            주소2:주소2\n        })\n    }\n    React.useEffect(()=>{\n        const result = JSON.parse(localStorage.getItem('POSTCODE_ADDRESS'))\n        console.log(result)\n    }, [address.주소1, address.주소2])\n  \n    const [viewProduct, setViewProduct] = React.useState([]);\n\n\n    const [product, setProduct] = React.useState([]);\n    const [flag, setFlag] = React.useState(false);\n\n\n    const currentViewProduct=(item, imgPath)=>{       \n        const obj = { \n            번호: item.번호,\n            상품명: item.상품명,\n            이미지: `${imgPath}${item.이미지}`,\n            정가: item.정가,\n            할인율: `${Math.round(item.할인율 * 100)}%`,\n            판매가: Math.round(item.정가 * (1-item.할인율)),\n            후기: item.후기\n        }\n        setProduct(obj);\n    }\n\n    React.useEffect(()=>{\n         let imsi = [];              \n        if(Object.keys(product).length > 0){\n            imsi = [product];\n        }  \n        if(localStorage.getItem('KURLY_VIEW_PRODUCT')===null){\n            if(imsi.length>0){\n                localStorage.setItem('KURLY_VIEW_PRODUCT', JSON.stringify(imsi));\n            }\n        }\n        else {\n            let result = JSON.parse(localStorage.getItem('KURLY_VIEW_PRODUCT'));\n            let filterResult = result.map((item)=>item.번호===product.번호); \n            console.log( filterResult );            \n            if(filterResult.includes(true)){\n                return;\n            }\n            else{ // 중복안됨\n                if(Object.keys(product).length>0){\n                    result=[product, ...result];\n                    localStorage.setItem('KURLY_VIEW_PRODUCT', JSON.stringify(result));\n                }\n            }\n        }\n\n        setFlag( !flag );\n    },[product]);\n\n\n\n    React.useEffect(()=>{\n        if(localStorage.getItem('KURLY_VIEW_PRODUCT')=== null){\n            return;\n        }\n        const result = JSON.parse(localStorage.getItem('KURLY_VIEW_PRODUCT'));\n        setViewProduct(result);\n\n    }, [flag])\n    return (\n    <div id='wrap'>\n\n        <WrapContext.Provider value={{\n            //헤더\n            addressSearchOpen,\n            주소1,\n            주소2,\n            currentViewProduct,\n            confirmModalOpen,\n            confirmModalClose,\n            message,\n            addressSearchClose,\n            addressSave,\n            viewProduct,\n\n        }}>\n        <TopModalComponent />\n\n            <BrowserRouter basename={process.env.PUBLIC_URL}>\n                <Routes>\n                    <Route path='/' element={<HeaderComponent />}>\n                        <Route index element={<MainComponent />} />\n                        <Route path='/index' element={<MainComponent />} />\n                        <Route path='/sub1' element={<Sub1Component />} />\n                        <Route path='/sub2' element={<Sub2Component />} />\n                        <Route path='/sub3' element={<Sub3Component />} />\n                        <Route path='/sub4' element={<Sub4Component />} />\n                        <Route path='/sub5' element={<Sub5Component />} />\n                    </Route>\n                </Routes>\n            </BrowserRouter>\n\n\n            {state.isconfirmModal &&\n                <ConfirmModal />\n            }\n            {state.isAddressSearch &&\n                <AddressComponent/>\n            }\n            <GoTopComponent />\n            <QuickMenuComponent />\n            <FooterComponent />\n\n        </WrapContext.Provider>\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}